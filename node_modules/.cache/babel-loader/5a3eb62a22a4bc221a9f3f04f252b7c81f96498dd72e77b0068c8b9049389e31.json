{"ast":null,"code":"// backend/src/routes/auth.routes.js\nimport { Router } from 'express';\nimport * as authController from '../controllers/auth.controller.js';\nimport validatorMiddleware from '../middlewares/validator.middleware.js';\nimport Joi from 'joi'; // Aseg칰rate de tener Joi instalado: npm install joi\n\nconst router = Router();\n\n// --- ESQUEMAS DE VALIDACI칍N CON JOI ---\n// Esquema para la validaci칩n de Registro\nconst registerSchema = Joi.object({\n  body: Joi.object({\n    name: Joi.string().min(3).max(50).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(6).required() // Contrase침as de m칤nimo 6 caracteres\n  }).required()\n});\n\n// Esquema para la validaci칩n de Login (Solo email y password)\nconst loginSchema = Joi.object({\n  body: Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().required() // Se requiere solo que exista\n  }).required()\n});\n// ----------------------------------------\n\n// RUTA 1: Registro (P칰blica)\n// Flujo: Petici칩n -> Middleware de Validaci칩n -> Controlador\nrouter.post('/register', validatorMiddleware(registerSchema), authController.registerController);\n\n// RUTA 2: Login (P칰blica)\n// 游꿢 Esta es la ruta para el inicio de sesi칩n que necesitas en tu frontend.\nrouter.post('/login', validatorMiddleware(loginSchema), authController.loginController // Usamos el controlador que ya tienes definido\n);\n\n// RUTA 3: Verificaci칩n de Email (P칰blica)\n// El token viene como par치metro de la URL\nrouter.get('/verify-email/:token', authController.verifyEmailController);\nexport default router;","map":{"version":3,"names":["Router","authController","validatorMiddleware","Joi","router","registerSchema","object","body","name","string","min","max","required","email","password","loginSchema","post","registerController","loginController","get","verifyEmailController"],"sources":["C:/CamilaSerniotti-TPFinal/frontend/src/components/Login.jsx"],"sourcesContent":["// backend/src/routes/auth.routes.js\r\nimport { Router } from 'express';\r\nimport * as authController from '../controllers/auth.controller.js';\r\nimport validatorMiddleware from '../middlewares/validator.middleware.js';\r\nimport Joi from 'joi'; // Aseg칰rate de tener Joi instalado: npm install joi\r\n\r\nconst router = Router();\r\n\r\n// --- ESQUEMAS DE VALIDACI칍N CON JOI ---\r\n// Esquema para la validaci칩n de Registro\r\nconst registerSchema = Joi.object({\r\n    body: Joi.object({\r\n        name: Joi.string().min(3).max(50).required(),\r\n        email: Joi.string().email().required(),\r\n        password: Joi.string().min(6).required(), // Contrase침as de m칤nimo 6 caracteres\r\n    }).required(),\r\n});\r\n\r\n// Esquema para la validaci칩n de Login (Solo email y password)\r\nconst loginSchema = Joi.object({\r\n    body: Joi.object({\r\n        email: Joi.string().email().required(),\r\n        password: Joi.string().required(), // Se requiere solo que exista\r\n    }).required(),\r\n});\r\n// ----------------------------------------\r\n\r\n// RUTA 1: Registro (P칰blica)\r\n// Flujo: Petici칩n -> Middleware de Validaci칩n -> Controlador\r\nrouter.post(\r\n    '/register',\r\n    validatorMiddleware(registerSchema),\r\n    authController.registerController\r\n);\r\n\r\n// RUTA 2: Login (P칰blica)\r\n// 游꿢 Esta es la ruta para el inicio de sesi칩n que necesitas en tu frontend.\r\nrouter.post(\r\n    '/login',\r\n    validatorMiddleware(loginSchema),\r\n    authController.loginController // Usamos el controlador que ya tienes definido\r\n);\r\n\r\n// RUTA 3: Verificaci칩n de Email (P칰blica)\r\n// El token viene como par치metro de la URL\r\nrouter.get(\r\n    '/verify-email/:token',\r\n    authController.verifyEmailController\r\n);\r\n\r\nexport default router;"],"mappings":"AAAA;AACA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAO,KAAKC,cAAc,MAAM,mCAAmC;AACnE,OAAOC,mBAAmB,MAAM,wCAAwC;AACxE,OAAOC,GAAG,MAAM,KAAK,CAAC,CAAC;;AAEvB,MAAMC,MAAM,GAAGJ,MAAM,CAAC,CAAC;;AAEvB;AACA;AACA,MAAMK,cAAc,GAAGF,GAAG,CAACG,MAAM,CAAC;EAC9BC,IAAI,EAAEJ,GAAG,CAACG,MAAM,CAAC;IACbE,IAAI,EAAEL,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC;IAC5CC,KAAK,EAAEV,GAAG,CAACM,MAAM,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC;IACtCE,QAAQ,EAAEX,GAAG,CAACM,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,CAAE;EAC9C,CAAC,CAAC,CAACA,QAAQ,CAAC;AAChB,CAAC,CAAC;;AAEF;AACA,MAAMG,WAAW,GAAGZ,GAAG,CAACG,MAAM,CAAC;EAC3BC,IAAI,EAAEJ,GAAG,CAACG,MAAM,CAAC;IACbO,KAAK,EAAEV,GAAG,CAACM,MAAM,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC,CAACD,QAAQ,CAAC,CAAC;IACtCE,QAAQ,EAAEX,GAAG,CAACM,MAAM,CAAC,CAAC,CAACG,QAAQ,CAAC,CAAC,CAAE;EACvC,CAAC,CAAC,CAACA,QAAQ,CAAC;AAChB,CAAC,CAAC;AACF;;AAEA;AACA;AACAR,MAAM,CAACY,IAAI,CACP,WAAW,EACXd,mBAAmB,CAACG,cAAc,CAAC,EACnCJ,cAAc,CAACgB,kBACnB,CAAC;;AAED;AACA;AACAb,MAAM,CAACY,IAAI,CACP,QAAQ,EACRd,mBAAmB,CAACa,WAAW,CAAC,EAChCd,cAAc,CAACiB,eAAe,CAAC;AACnC,CAAC;;AAED;AACA;AACAd,MAAM,CAACe,GAAG,CACN,sBAAsB,EACtBlB,cAAc,CAACmB,qBACnB,CAAC;AAED,eAAehB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}